{
    "sourceFile": "src/App.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 23,
            "patches": [
                {
                    "date": 1651322387145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1651322394844,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n         console.log(\"Fail to get products\", error);\n       }\n       setLoading(false);\n     })();\n-  }, []);\n+  }, [type]);\n   return (\n     <BrowserRouter>\n         <div className='App'>\n           <Header />\n"
                },
                {
                    "date": 1651322405341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,8 +18,9 @@\n   const [loading, setLoading] = useState(true);\n   const [data, setData] = useState();\n   const {type,setType} = useContext(UserContext);\n   useEffect(() => {\n+    setData(null);\n     (async () => {\n       try {\n         const respon = await axios.get(\n           \"https://api.apify.com/v2/key-value-stores/QubTry45OOCkTyohU/records/LATEST?fbclid=IwAR0nJYHjOqJY60a9OJKatwQ8iBP9p6zyTPB9-mfjyLSa5TJGbalHhODluXw\",\n"
                },
                {
                    "date": 1651322450604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n import { UserContext } from \"./context/itemmovie-context\";\n function App() {\n   const [loading, setLoading] = useState(true);\n   const [data, setData] = useState();\n-  const {type,setType} = useContext(UserContext);\n+  const {type} = useContext(UserContext);\n   useEffect(() => {\n     setData(null);\n     (async () => {\n       try {\n"
                },
                {
                    "date": 1651322723141,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,9 @@\n   return (\n     <BrowserRouter>\n         <div className='App'>\n           <Header />\n-          {loading ? (\n+          {loading && !data ? (\n             <div className='example'>\n               <Spin />\n             </div>\n           ) : (\n"
                },
                {
                    "date": 1651322776420,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,9 @@\n   return (\n     <BrowserRouter>\n         <div className='App'>\n           <Header />\n-          {loading && !data ? (\n+          {loading ? (\n             <div className='example'>\n               <Spin />\n             </div>\n           ) : (\n"
                },
                {
                    "date": 1651322824188,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,8 +19,9 @@\n   const [data, setData] = useState();\n   const {type} = useContext(UserContext);\n   useEffect(() => {\n     setData(null);\n+    setLoading(true);\n     (async () => {\n       try {\n         const respon = await axios.get(\n           \"https://api.apify.com/v2/key-value-stores/QubTry45OOCkTyohU/records/LATEST?fbclid=IwAR0nJYHjOqJY60a9OJKatwQ8iBP9p6zyTPB9-mfjyLSa5TJGbalHhODluXw\",\n"
                },
                {
                    "date": 1651361710879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,11 +16,10 @@\n import { UserContext } from \"./context/itemmovie-context\";\n function App() {\n   const [loading, setLoading] = useState(true);\n   const [data, setData] = useState();\n-  const {type} = useContext(UserContext);\n+  const { type } = useContext(UserContext);\n   useEffect(() => {\n-    setData(null);\n     setLoading(true);\n     (async () => {\n       try {\n         const respon = await axios.get(\n@@ -36,29 +35,29 @@\n     })();\n   }, [type]);\n   return (\n     <BrowserRouter>\n-        <div className='App'>\n-          <Header />\n-          {loading ? (\n-            <div className='example'>\n-              <Spin />\n-            </div>\n-          ) : (\n-            <Routes>\n-              <Route path='/' element={<HomePage data={data} />} />\n-              <Route path='/detail/*' element={<DetailPage />} />\n-              <Route path='/phimbo/*' element={<SeriesMovie data={data} />} />\n-              <Route\n-                path='/phimchieurap/*'\n-                element={<MovieTheaters data={data} />}\n-              />\n-              <Route path='/phimhoathinh/*' element={<Cartoon data={data} />} />\n-              <Route path='/phimle/*' element={<OddMovie data={data} />} />\n-            </Routes>\n-          )}\n-          <Footer />\n-        </div>\n+      <div className='App'>\n+        <Header />\n+        {loading ? (\n+          <div className='example'>\n+            <Spin />\n+          </div>\n+        ) : (\n+          <Routes>\n+            <Route path='/' element={<HomePage data={data} />} />\n+            <Route path='/detail/*' element={<DetailPage />} />\n+            <Route path='/phimbo/*' element={<SeriesMovie data={data} />} />\n+            <Route\n+              path='/phimchieurap/*'\n+              element={<MovieTheaters data={data} />}\n+            />\n+            <Route path='/phimhoathinh/*' element={<Cartoon data={data} />} />\n+            <Route path='/phimle/*' element={<OddMovie data={data} />} />\n+          </Routes>\n+        )}\n+        <Footer />\n+      </div>\n     </BrowserRouter>\n   );\n }\n \n"
                },
                {
                    "date": 1651361880812,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n         console.log(\"Fail to get products\", error);\n       }\n       setLoading(false);\n     })();\n-  }, [type]);\n+  }, []);\n   return (\n     <BrowserRouter>\n       <div className='App'>\n         <Header />\n"
                },
                {
                    "date": 1651361913926,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n         console.log(\"Fail to get products\", error);\n       }\n       setLoading(false);\n     })();\n-  }, []);\n+  }, [type]);\n   return (\n     <BrowserRouter>\n       <div className='App'>\n         <Header />\n"
                },
                {
                    "date": 1651362086315,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n           \"https://api.apify.com/v2/key-value-stores/QubTry45OOCkTyohU/records/LATEST?fbclid=IwAR0nJYHjOqJY60a9OJKatwQ8iBP9p6zyTPB9-mfjyLSa5TJGbalHhODluXw\",\n         );\n         const { data } = await respon;\n         setData(data);\n-        console.log(\"renderapp\");\n+        console.log(\"renderapp\",data);\n       } catch (error) {\n         console.log(\"Fail to get products\", error);\n       }\n       setLoading(false);\n"
                },
                {
                    "date": 1651370395937,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n /** @format */\n \n-import \"./App.css\";\n+// import \"./App.css\";\n import Header from \"./Components/header/Header\";\n import HomePage from \"./features/Movie/Page/Home\";\n import DetailPage from \"./features/Movie/Components/DetailPage\";\n import { BrowserRouter, Routes, Route } from \"react-router-dom\";\n"
                },
                {
                    "date": 1651370415320,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n /** @format */\n \n-// import \"./App.css\";\n+import \"./App.css\";\n import Header from \"./Components/header/Header\";\n import HomePage from \"./features/Movie/Page/Home\";\n import DetailPage from \"./features/Movie/Components/DetailPage\";\n import { BrowserRouter, Routes, Route } from \"react-router-dom\";\n"
                },
                {
                    "date": 1651452936076,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n import \"./App.css\";\n import Header from \"./Components/header/Header\";\n import HomePage from \"./features/Movie/Page/Home\";\n import DetailPage from \"./features/Movie/Components/DetailPage\";\n-import { BrowserRouter, Routes, Route } from \"react-router-dom\";\n+import { BrowserRouter, Routes, Route,useLocation } from \"react-router-dom\";\n import { useContext, useEffect, useState } from \"react\";\n import axios from \"axios\";\n import { Spin } from \"antd\";\n import Footer from \"./Components/footer/Footer\";\n@@ -13,12 +13,14 @@\n import MovieTheaters from \"./features/Movie/Page/MovieTheaters/MovieTheaters\";\n import Cartoon from \"./features/Movie/Page/Cartoon/Cartoon\";\n import OddMovie from \"./features/Movie/Page/OddMovie/OddMovie\";\n import { UserContext } from \"./context/itemmovie-context\";\n+\n function App() {\n   const [loading, setLoading] = useState(true);\n   const [data, setData] = useState();\n-  const { type } = useContext(UserContext);\n+  const {type } = useContext(UserContext);\n+  let location = useLocation();\n   useEffect(() => {\n     setLoading(true);\n     (async () => {\n       try {\n"
                },
                {
                    "date": 1651452948502,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,8 +19,9 @@\n   const [loading, setLoading] = useState(true);\n   const [data, setData] = useState();\n   const {type } = useContext(UserContext);\n   let location = useLocation();\n+  console.log(location);\n   useEffect(() => {\n     setLoading(true);\n     (async () => {\n       try {\n"
                },
                {
                    "date": 1651452975964,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n import \"./App.css\";\n import Header from \"./Components/header/Header\";\n import HomePage from \"./features/Movie/Page/Home\";\n import DetailPage from \"./features/Movie/Components/DetailPage\";\n-import { BrowserRouter, Routes, Route,useLocation } from \"react-router-dom\";\n+import { BrowserRouter, Routes, Route } from \"react-router-dom\";\n import { useContext, useEffect, useState } from \"react\";\n import axios from \"axios\";\n import { Spin } from \"antd\";\n import Footer from \"./Components/footer/Footer\";\n"
                },
                {
                    "date": 1651452990964,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n import \"./App.css\";\n import Header from \"./Components/header/Header\";\n import HomePage from \"./features/Movie/Page/Home\";\n import DetailPage from \"./features/Movie/Components/DetailPage\";\n-import { BrowserRouter, Routes, Route } from \"react-router-dom\";\n+import { BrowserRouter, Routes, Route,useLocation } from \"react-router-dom\";\n import { useContext, useEffect, useState } from \"react\";\n import axios from \"axios\";\n import { Spin } from \"antd\";\n import Footer from \"./Components/footer/Footer\";\n@@ -18,9 +18,9 @@\n function App() {\n   const [loading, setLoading] = useState(true);\n   const [data, setData] = useState();\n   const {type } = useContext(UserContext);\n-  let location = useLocation();\n+  // let location = useLocation();\n   console.log(location);\n   useEffect(() => {\n     setLoading(true);\n     (async () => {\n"
                },
                {
                    "date": 1651453016226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,10 +18,10 @@\n function App() {\n   const [loading, setLoading] = useState(true);\n   const [data, setData] = useState();\n   const {type } = useContext(UserContext);\n-  // let location = useLocation();\n-  console.log(location);\n+  let location = useLocation();\n+  // console.log(location);\n   useEffect(() => {\n     setLoading(true);\n     (async () => {\n       try {\n"
                },
                {
                    "date": 1651453047607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,8 @@\n       setLoading(false);\n     })();\n   }, [type]);\n   return (\n-    <BrowserRouter>\n       <div className='App'>\n         <Header />\n         {loading ? (\n           <div className='example'>\n@@ -59,9 +58,8 @@\n           </Routes>\n         )}\n         <Footer />\n       </div>\n-    </BrowserRouter>\n   );\n }\n \n export default App;\n"
                },
                {
                    "date": 1651453090936,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n import \"./App.css\";\n import Header from \"./Components/header/Header\";\n import HomePage from \"./features/Movie/Page/Home\";\n import DetailPage from \"./features/Movie/Components/DetailPage\";\n-import { BrowserRouter, Routes, Route,useLocation } from \"react-router-dom\";\n+import {Routes, Route,useLocation } from \"react-router-dom\";\n import { useContext, useEffect, useState } from \"react\";\n import axios from \"axios\";\n import { Spin } from \"antd\";\n import Footer from \"./Components/footer/Footer\";\n"
                },
                {
                    "date": 1651453098736,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n   const [loading, setLoading] = useState(true);\n   const [data, setData] = useState();\n   const {type } = useContext(UserContext);\n   let location = useLocation();\n-  // console.log(location);\n+  console.log(location);\n   useEffect(() => {\n     setLoading(true);\n     (async () => {\n       try {\n"
                },
                {
                    "date": 1651453147175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,8 @@\n   const [loading, setLoading] = useState(true);\n   const [data, setData] = useState();\n   const {type } = useContext(UserContext);\n   let location = useLocation();\n-  console.log(location);\n   useEffect(() => {\n     setLoading(true);\n     (async () => {\n       try {\n@@ -35,9 +34,9 @@\n         console.log(\"Fail to get products\", error);\n       }\n       setLoading(false);\n     })();\n-  }, [type]);\n+  }, [type,location.pathname]);\n   return (\n       <div className='App'>\n         <Header />\n         {loading ? (\n"
                },
                {
                    "date": 1651453210604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,8 +19,9 @@\n   const [loading, setLoading] = useState(true);\n   const [data, setData] = useState();\n   const {type } = useContext(UserContext);\n   let location = useLocation();\n+  console.log(location);\n   useEffect(() => {\n     setLoading(true);\n     (async () => {\n       try {\n"
                },
                {
                    "date": 1651453247832,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,8 @@\n   const [loading, setLoading] = useState(true);\n   const [data, setData] = useState();\n   const {type } = useContext(UserContext);\n   let location = useLocation();\n-  console.log(location);\n   useEffect(() => {\n     setLoading(true);\n     (async () => {\n       try {\n"
                }
            ],
            "date": 1651322387145,
            "name": "Commit-0",
            "content": "/** @format */\n\nimport \"./App.css\";\nimport Header from \"./Components/header/Header\";\nimport HomePage from \"./features/Movie/Page/Home\";\nimport DetailPage from \"./features/Movie/Components/DetailPage\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Spin } from \"antd\";\nimport Footer from \"./Components/footer/Footer\";\nimport SeriesMovie from \"./features/Movie/Page/SeriesMovie/SeriesMovie\";\nimport MovieTheaters from \"./features/Movie/Page/MovieTheaters/MovieTheaters\";\nimport Cartoon from \"./features/Movie/Page/Cartoon/Cartoon\";\nimport OddMovie from \"./features/Movie/Page/OddMovie/OddMovie\";\nimport { UserContext } from \"./context/itemmovie-context\";\nfunction App() {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState();\n  const {type,setType} = useContext(UserContext);\n  useEffect(() => {\n    (async () => {\n      try {\n        const respon = await axios.get(\n          \"https://api.apify.com/v2/key-value-stores/QubTry45OOCkTyohU/records/LATEST?fbclid=IwAR0nJYHjOqJY60a9OJKatwQ8iBP9p6zyTPB9-mfjyLSa5TJGbalHhODluXw\",\n        );\n        const { data } = await respon;\n        setData(data);\n        console.log(\"renderapp\");\n      } catch (error) {\n        console.log(\"Fail to get products\", error);\n      }\n      setLoading(false);\n    })();\n  }, []);\n  return (\n    <BrowserRouter>\n        <div className='App'>\n          <Header />\n          {loading ? (\n            <div className='example'>\n              <Spin />\n            </div>\n          ) : (\n            <Routes>\n              <Route path='/' element={<HomePage data={data} />} />\n              <Route path='/detail/*' element={<DetailPage />} />\n              <Route path='/phimbo/*' element={<SeriesMovie data={data} />} />\n              <Route\n                path='/phimchieurap/*'\n                element={<MovieTheaters data={data} />}\n              />\n              <Route path='/phimhoathinh/*' element={<Cartoon data={data} />} />\n              <Route path='/phimle/*' element={<OddMovie data={data} />} />\n            </Routes>\n          )}\n          <Footer />\n        </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"
        }
    ]
}