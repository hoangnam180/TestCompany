{
    "sourceFile": "src/features/Movie/Page/Search/Search.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 9,
            "patches": [
                {
                    "date": 1651586548289,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1651589304828,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,95 @@\n-const Search = () => {\n-    return ( \n-        <h1>Search</h1>\n-     );\n-}\n- \n-export default Search;\n\\ No newline at end of file\n+/** @format */\n+import { Empty, Pagination } from \"antd\";\n+import React, { useContext, useState, useTransition } from \"react\";\n+import { useNavigate } from \"react-router-dom\";\n+import styled from \"styled-components\";\n+import { UserContext } from \"../../../../context/itemmovie-context\";\n+import MovieItem from \"../../Components/MovieItem\";\n+const MovieListContainer = styled.div`\n+  display: flex;\n+  flex-wrap: wrap;\n+  padding: 0 20px;\n+  min-height: 50vh;\n+  justify-content: center;\n+`;\n+const Container = styled.div`\n+  max-width: 1300px;\n+  margin: 0 auto;\n+`;\n+const Search = data => {\n+  const { setMovie, inputSearch } = useContext(UserContext);\n+  const navigate = useNavigate();\n+  const merge = () => {\n+    let datatemp = [];\n+    for (let property in data.phim) {\n+      datatemp.push(...data.phim[property]);\n+    }\n+    return datatemp;\n+  };\n+  const filterData =\n+    data &&\n+    data.data &&\n+    data.data.phim.phimbo.filter(item => {\n+      if (inputSearch === \"\") {\n+        return item;\n+      } else {\n+        return item.title.toLowerCase().includes(inputSearch);\n+      }\n+    });\n+\n+  const handleClickItem = (id, keyid) => {\n+    setMovie(data.data.phim.phimbo[id]);\n+    navigate(\"/detail\");\n+  };\n+  const pageSize = 30;\n+  const [current, setCurrent] = useState({\n+    minIndex: 0,\n+    maxIndex: pageSize,\n+    current: 1,\n+  });\n+  const onChange = page => {\n+    setCurrent(prev => {\n+      return {\n+        ...prev,\n+        current: page,\n+        minIndex: (page - 1) * pageSize,\n+        maxIndex: page * pageSize,\n+      };\n+    });\n+  };\n+  return (\n+    <Container>\n+      <MovieListContainer className='row'>\n+        {filterData.length > 0 ? (\n+          filterData.map((item, index) => {\n+            return (\n+              index >= current.minIndex &&\n+              index < current.maxIndex && (\n+                <MovieItem\n+                  onClick={handleClickItem}\n+                  key={index}\n+                  id={index}\n+                  item={item}\n+                  typemovie={\"Phim bộ\"}\n+                />\n+              )\n+            );\n+          })\n+        ) : (\n+          <Empty description={<span>Phim này hiện chưa có...!!</span>} />\n+        )}\n+      </MovieListContainer>\n+      <Pagination\n+        pageSize={pageSize}\n+        current={current.current}\n+        total={filterData.length}\n+        onChange={onChange}\n+        showSizeChanger={false}\n+        size={\"big\"}\n+        style={{ textAlign: \"right\", marginRight: \"5%\", marginTop: \"15px\" }}\n+      />\n+    </Container>\n+  );\n+};\n+\n+export default Search;\n"
                },
                {
                    "date": 1651589510448,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,15 +18,17 @@\n `;\n const Search = data => {\n   const { setMovie, inputSearch } = useContext(UserContext);\n   const navigate = useNavigate();\n+\n   const merge = () => {\n     let datatemp = [];\n     for (let property in data.phim) {\n       datatemp.push(...data.phim[property]);\n     }\n     return datatemp;\n   };\n+  console.log(merge());\n   const filterData =\n     data &&\n     data.data &&\n     data.data.phim.phimbo.filter(item => {\n"
                },
                {
                    "date": 1651589532035,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n       datatemp.push(...data.phim[property]);\n     }\n     return datatemp;\n   };\n-  console.log(merge());\n+  console.log(data);\n   const filterData =\n     data &&\n     data.data &&\n     data.data.phim.phimbo.filter(item => {\n"
                },
                {
                    "date": 1651589584473,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,14 +21,14 @@\n   const navigate = useNavigate();\n \n   const merge = () => {\n     let datatemp = [];\n-    for (let property in data.phim) {\n-      datatemp.push(...data.phim[property]);\n+    for (let property in data?.data?.phim) {\n+      datatemp.push(...data?.data?.phim[property]);\n     }\n     return datatemp;\n   };\n-  console.log(data);\n+  console.log(merge);\n   const filterData =\n     data &&\n     data.data &&\n     data.data.phim.phimbo.filter(item => {\n"
                },
                {
                    "date": 1651589591499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n       datatemp.push(...data?.data?.phim[property]);\n     }\n     return datatemp;\n   };\n-  console.log(merge);\n+  console.log(merge());\n   const filterData =\n     data &&\n     data.data &&\n     data.data.phim.phimbo.filter(item => {\n"
                },
                {
                    "date": 1651589678224,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,13 +26,12 @@\n       datatemp.push(...data?.data?.phim[property]);\n     }\n     return datatemp;\n   };\n-  console.log(merge());\n+  const merged = merge();\n   const filterData =\n-    data &&\n-    data.data &&\n-    data.data.phim.phimbo.filter(item => {\n+    merged &&\n+    merged.filter(item => {\n       if (inputSearch === \"\") {\n         return item;\n       } else {\n         return item.title.toLowerCase().includes(inputSearch);\n"
                },
                {
                    "date": 1651589768746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n   const handleClickItem = (id, keyid) => {\n     setMovie(data.data.phim.phimbo[id]);\n     navigate(\"/detail\");\n   };\n-  const pageSize = 30;\n+  const pageSize = window.innerWidth < 1200 ? 28 : 30;\n   const [current, setCurrent] = useState({\n     minIndex: 0,\n     maxIndex: pageSize,\n     current: 1,\n"
                },
                {
                    "date": 1651589844785,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n /** @format */\n import { Empty, Pagination } from \"antd\";\n-import React, { useContext, useState, useTransition } from \"react\";\n+import React, { useContext, useState } from \"react\";\n import { useNavigate } from \"react-router-dom\";\n import styled from \"styled-components\";\n import { UserContext } from \"../../../../context/itemmovie-context\";\n import MovieItem from \"../../Components/MovieItem\";\n"
                },
                {
                    "date": 1651598748010,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,10 +37,10 @@\n         return item.title.toLowerCase().includes(inputSearch);\n       }\n     });\n \n-  const handleClickItem = (id, keyid) => {\n-    setMovie(data.data.phim.phimbo[id]);\n+  const handleClickItem = id => {\n+    setMovie(filterData[id]);\n     navigate(\"/detail\");\n   };\n   const pageSize = window.innerWidth < 1200 ? 28 : 30;\n   const [current, setCurrent] = useState({\n"
                }
            ],
            "date": 1651586548289,
            "name": "Commit-0",
            "content": "const Search = () => {\n    return ( \n        <h1>Search</h1>\n     );\n}\n \nexport default Search;"
        }
    ]
}