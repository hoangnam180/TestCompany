{
    "sourceFile": "src/features/Movie/Page/Home/index.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1651930092138,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1651930107843,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,8 +13,10 @@\n import \"swiper/css/navigation\";\r\n import \"swiper/css/pagination\";\r\n import \"swiper/css/scrollbar\";\r\n import \"swiper/css/autoplay\";\r\n+import \"antd/dist/antd.css\";\r\n+\r\n const MovieListContainer = styled.div`\r\n   display: flex;\r\n   flex-wrap: wrap;\r\n   padding: 0 20px;\r\n"
                }
            ],
            "date": 1651930092138,
            "name": "Commit-0",
            "content": "/** @format */\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Pagination } from \"antd\";\r\nimport styled from \"styled-components\";\r\nimport MovieItem from \"../../Components/MovieItem\";\r\nimport { Link, Outlet } from \"react-router-dom\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { useContext } from \"react\";\r\nimport { UserContext } from \"../../../../context/itemmovie-context\";\r\nimport { Navigation, Pagination as Paginationn, Autoplay } from \"swiper\";\r\nimport \"swiper/css\";\r\nimport \"swiper/css/navigation\";\r\nimport \"swiper/css/pagination\";\r\nimport \"swiper/css/scrollbar\";\r\nimport \"swiper/css/autoplay\";\r\nconst MovieListContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  padding: 0 20px;\r\n`;\r\nconst Container = styled.div`\r\n  max-width: 1300px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  /* padding: 0 20px; */\r\n  margin: 0;\r\n  margin-top: 20px;\r\n  position: relative;\r\n  color: #fff;\r\n  &::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    height: 1px;\r\n    width: 100%;\r\n    top: 100%;\r\n    background-color: #fff;\r\n  }\r\n  &.active {\r\n    color: #333;\r\n  }\r\n  &.active::before {\r\n    background-color: #bfbfbf;\r\n  }\r\n  @media only screen and (max-width: 735px) {\r\n    font-size: 2.2rem;\r\n    padding: 0 1rem;\r\n  }\r\n`;\r\nconst keyvalue = [\r\n  {\r\n    key: \"phimchieurap\",\r\n    title: \"Phim chiếu rạp\",\r\n  },\r\n  {\r\n    key: \"phimbo\",\r\n    title: \"Phim bộ\",\r\n  },\r\n  {\r\n    key: \"phimhoathinh\",\r\n    title: \"Phim hoạt hình\",\r\n  },\r\n  {\r\n    key: \"phimle\",\r\n    title: \"Phim lẻ\",\r\n  },\r\n];\r\n\r\nconst HomePage = ({ data }) => {\r\n  const { type } = useContext(UserContext);\r\n  const pageSize = 18;\r\n  const [column, setColumn] = useState(5);\r\n  const [current, setCurrent] = useState({\r\n    data: data.phim,\r\n    minIndex: 0,\r\n    maxIndex: pageSize,\r\n    current: 1,\r\n  });\r\n\r\n  const onChange = page => {\r\n    setCurrent(prev => {\r\n      return {\r\n        ...prev,\r\n        current: page,\r\n        minIndex: (page - 1) * pageSize,\r\n        maxIndex: page * pageSize,\r\n      };\r\n    });\r\n  };\r\n  const handleClickItem = (id, keyid) => {};\r\n  useEffect(() => {\r\n    const columns = () => {\r\n      if (window.innerWidth < 739) {\r\n        setColumn(1);\r\n      }\r\n      if (window.innerWidth > 739 && window.innerWidth < 1024) {\r\n        setColumn(3);\r\n      }\r\n      if (window.innerWidth > 1023) {\r\n        setColumn(4);\r\n      }\r\n      if (window.innerWidth > 1200) {\r\n        setColumn(5);\r\n      }\r\n    };\r\n    columns();\r\n    window.addEventListener(\"resize\", columns);\r\n    return () => window.removeEventListener(\"resize\", columns);\r\n  }, []);\r\n  return (\r\n    <Container>\r\n      <Outlet />\r\n      {keyvalue.map((item, index) => {\r\n        const { key, title } = item;\r\n        return (\r\n          <div key={key}>\r\n            <Outlet />\r\n            <Title className={`title ${type ? \"active\" : \"\"}`}>\r\n              {item.title}\r\n            </Title>\r\n            <Swiper\r\n              spaceBetween={1}\r\n              modules={[Navigation, Paginationn, Autoplay]}\r\n              slidesPerView={column}\r\n              navigation\r\n              autoplay={{ delay: 3000 }}\r\n              // scrollbar={{ draggable: true }}\r\n            >\r\n              <MovieListContainer className='row'>\r\n                {current?.data &&\r\n                  current?.data[key] &&\r\n                  current.data[key].map((item, index) => {\r\n                    return (\r\n                      index >= current.minIndex &&\r\n                      index < current.maxIndex && (\r\n                        <SwiperSlide key={index}>\r\n                          <Link to={`detail/${key}/${index}`}>\r\n                            <MovieItem\r\n                              onClick={handleClickItem}\r\n                              item={item}\r\n                              typemovie={title}\r\n                              slide={true}\r\n                            />\r\n                          </Link>\r\n                        </SwiperSlide>\r\n                      )\r\n                    );\r\n                  })}\r\n              </MovieListContainer>\r\n            </Swiper>\r\n          </div>\r\n        );\r\n      })}\r\n      <Pagination\r\n        pageSize={pageSize}\r\n        current={current.current}\r\n        total={200}\r\n        onChange={onChange}\r\n        showSizeChanger={false}\r\n        size={\"big\"}\r\n        style={{ textAlign: \"right\", marginRight: \"5%\", marginTop: \"15px\" }}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default React.memo(HomePage);\r\n"
        }
    ]
}